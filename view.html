<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Stream | Video name</title>

	<link rel="stylesheet" href="vendor/css/bootstrap.min.css">
	<link rel="stylesheet" href="vendor/css/plyr.css">


	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" type="text/css" href="css/responsive.css">
	<style>

	</style>

</head>
<body class="view">
	<header>
		<div class="navigation">
			<div class="logo">STREAM</div>
			<div class="menu-wrapper">	
				<div class="menu">
					<a href="index.html" class="menu--item">Home</a>
					<a href="javascript:void(0)" class="menu--item">Videos</a>
					<a href="javascript:void(0)" class="menu--item">Live Streams</a>
					<a href="premier.html" class="menu--item">Premiers</a>
				</div>

				<div class="subs">
					<a href="search.html" class="search">Search</a>
					<a href="javascript:void(0)" class="login" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
					<a href="javascript:void(0)" class="login">Sign Up</a>
				</div>
				<div class="log--in">
					<img src="img/dololo.jpg" alt="user_avatar" class="img-fluid user--avatar" width="50" height="50">
					<p>
						<span>Moja</span>
						<span class="username"></span>
						<span>!</span>
					</p>

				</div>
			</div>
			<a href="#" class="mobile--menu" onclick="toggleMenu()">
				<div id="nav-icon3">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</a>
		</div>
	</header>

	<main>

		<div class="container">
			<div class="view-video-wrapper">
				<div class="absolute-container">
				<video id="player" playsinline controls data-poster="/path/to/poster.jpg">
					<!-- <source src="media/video/1.mp4" type="video/mp4"/> -->
				</video>
				</div>
				<div class="donate">
					<div class="donation--content">
						<a href="#" class="btn customBtn">Please Donate R10</a>
						<p><small>Your Dontations and contributions help creators make more great content. If you cannot donate R10 now, we hope you can in the future. Thanks for your support and enjoy the show</small></p>
					</div>
					<div class="connection">
						<a href="javascript:void(0)"> + Connect with the Director/Artist with our whatsapp</a>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="video-meta col-md-8">
					<div class="video--date">
						<p>12 March 2022</p>
						<span>-</span>
						<p>Documentary</p>
					</div>
					<div class="video--title"><h2>Jininindi Omnyama</h2></div>

					<div class="video--descr">
						<p>For YouTube and Vimeo players, Plyr uses progressive enhancement to enhance the default embeds. Below are some examples. The `plyr__video-embed` classname will make the embed responsive. You can add the `autoplay`, `loop`, `hl` (YouTube only) and `playsinline` (YouTube only) query parameters to the URL and they will be set as config options automatically. For YouTube, the `origin` should be updated to reflect the domain you're hosting the embed on, or you can opt to omit it.</p>
					</div>
					<div class="video--reactions"></div>
				</div>

				<!-- profile -->

				<div class="video--profile col-md-4">
					<img src="img/avatars/1.jpg" alt="" class="creator--avatar img-fluid">
					<div class="creator--details">
						<p class="creator--name">ROSALIA</p>
						<p class="creator-date-joined">14 March 2020</p>
						<a href="#" class="creator--profile">See Rosalia's channel</a>
					</div>
				</div>
			</div>
		</div>

		

	</main>


	<footer>
		<div class="container">
			<div class="row">
				
				<div class="col-md-4 col-6">
					<div class="company">
						<p><b>Company</b></p>
						<a href="#">About Us</a>
						<a href="#">Team</a>
						<a href="#">Contact Us</a>
						<a href="#">Payments</a>
						<a href="#">Tickets</a>
						
					</div>
				</div>
				<div class="col-md-4 col-6">
					<div class="terms">
						<p><b>Terms</b></p>
						<a href="#">terms and conditions</a>
						<a href="#"> Privacy Policy</a>
						<a href="#">SITEMAP</a>
						<a href="#"></a>
					</div>
				</div>
				<div class="col-md-4">
					<div class="address">
						<p><b>Address</b></p>
						<p>123 Botanic Gardens Road</p>
						<p>Berea, Durban</p>
						<p>4001</p>
					</div>

					<div class="banking">	
							<p><b>Banking Details</b></p>
							<p>	Bank: FNB</p>
							<p>	Account Name: Gong Live Media</p>
							<p>	Account Number: XXXXX-CCCC-CCCC-XXX</p>
							<p>	Branch code: 77777</p>

					</div>	
				</div>

				<div class="row">
					<div class="col-12">
					<div class="copyright">
						<p>&copy; 2022 GONGONG Live Media</p>
					</div>
				</div>
				</div>
			</div>
		</div>
	</footer>



<div class="modal fade" tabindex="-1" id="loginModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
    	<div class="login--form">
    		<h2>Log In</h2>
    		<form action="" id="login">
    			<div class="mb-3">
    				<label for="name" class="form-label">Your Name</label>
    				<input type="text" class="form-control" id="name" name="name" placeholder="Sbonelo Mngadi">
    			</div>
    			<div class="mb-3">
    				<label for="emailAddress" class="form-label">Email address</label>
    				<input type="email" class="form-control" id="emailAddress" name="email" placeholder="name@example.com">
    			</div>
    			<button class="btn customBtn" type="submit">LOGIN</button>
    			<div class="help">
    				<p><small>Offline Mode</small></p>
    			</div>
    		</form>

    	</div>
    </div>
  </div>
</div>







	<!-- <script src="vendor/js/alpine.js"></script> -->
	<script src="vendor/js/bootstrap.min.js"></script>
	<!-- <script src="vendor/js/plyr.polyfilled.min.js"></script> -->
	<script src="vendor/js/plyr.min.js"></script>
	<script src="js/auth.js"></script>

	<script>

		let body = document.querySelector("body");
		const loginForm = document.forms[0];
		const loginModal = document.getElementById("loginModal")
		const usernameEl = document.querySelector(".username");


		loginForm.addEventListener("submit", function(e){
				e.preventDefault();
				handleLogin(this)
			})

			function handleLogin(form){

				let formData = new FormData(form);
				let username = formData.get("name");
				// save to sessionStorage for demo
				sessionStorage.setItem('username', username);
				body.classList.add("logged-in")

				// close modal
				// loginModal.hide()

				// hide login and sign up btns
				usernameEl.innerText = username;
			}

			// loginModal.addEventListener("hidden.bs.modal", function(){
			// 	loginForm.reset();
			// })
			if (sessionStorage.getItem('username')){
				usernameEl.innerText = sessionStorage.getItem('username');
				body.classList.add("logged-in")
			}else{
				console.log("logged out")
			}

	

    const player = new Plyr('#player',{
    							ratio:'16:9'
    						});


    if(sessionStorage.getItem('video_provider') === 'yt'){
    	player.source = {
    		type:'video',
    		sources: [
    		{
    			src: sessionStorage.getItem("video-url"),
    			type: 'video/mp4',
    			provider: 'youtube'
    		}]
    	}

    }else{

    	player.source = {
    		type:'video',
    		sources: [
    		{
    			src: sessionStorage.getItem("video-url"),
    			type: 'video/mp4'
    		}]
    	}
    }


	function toggleMenu(){

	let menuToggle = document.querySelector(".mobile--menu");
	let menu = document.getElementById("nav-icon3");
	let body = document.querySelector("body");

		body.classList.toggle("menu-open");
		menu.classList.toggle("open");
	}

	if (sessionStorage.getItem("premier")){
		body.classList.add("premier--video");
	}

	// get the video data from sessionStorage

	</script>
</body>
</html>